{"remainingRequest":"D:\\项目\\movie\\vue-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\movie\\vue-app\\src\\views\\film\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\movie\\vue-app\\src\\views\\film\\Index.vue","mtime":1616080370000},{"path":"D:\\项目\\movie\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\movie\\vue-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge0FkZEZpbG1FdmFsdWF0ZSwgRmluZEZpbG1CeUlkLCBGaW5kRmlsbUV2YWx1YXRlQnlGSWR9IGZyb20gIkAvYXBpL2ZpbG0iOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJGaWxtIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdmFsdWUyOiBudWxsLA0KICAgICAgY29sb3JzOiBbJyM5OUE5QkYnLCAnI0Y3QkEyQScsICcjRkY5OTAwJ10sDQogICAgICBmaWxtSWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmZpZCwNCiAgICAgIHZhbHVlOiAzLjUsDQogICAgICBsaXN0OiBbe30sIHt9LCB7fV0sDQogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGZpbG06IHt9LA0KICAgICAgZXZhbHVhdGVMaXN0OiBbXSwNCiAgICAgIGZvcm06IHsNCiAgICAgICAgZmlkOiAnJywNCiAgICAgICAgdWlkOiAnJywNCiAgICAgICAgc3RhcjogNSwNCiAgICAgICAgY29tbWVudDogJycsDQogICAgICB9LA0KICAgIH0NCiAgfSwNCg0KICBtZXRob2RzOiB7DQoNCiAgICBvcGVuQ29tbWVudCgpIHsNCiAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVpZCIpKSB7DQogICAgICAgIHRoaXMuJGNvbmZpcm0oJ+ezu+e7n+i/mOayoeacieajgOa1i+WIsOaCqOeahOeZu+mZhuS/oeaBrywg5piv5ZCm5Y6755m75b2VPycsICfmj5DnpLonLCB7DQogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIikNCiAgICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ2luZm8nLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOS4uueUteW9seivhOWIhicNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgICB9DQogICAgfSwNCg0KICAgIHN1Ym1pdENvbW1lbnQoKSB7DQogICAgICB0aGlzLmZvcm0uZmlkID0gdGhpcy5maWxtSWQ7DQogICAgICB0aGlzLmZvcm0udWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVpZCIpOw0KICAgICAgY29uc3QgZm9ybSA9IHRoaXMuZm9ybQ0KICAgICAgQWRkRmlsbUV2YWx1YXRlKGZvcm0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICB9KQ0KICAgIH0sDQoNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIEZpbmRGaWxtQnlJZCh0aGlzLmZpbG1JZCkudGhlbihyZXMgPT4gew0KICAgICAgdGhpcy5maWxtID0gcmVzLmRhdGE7DQogICAgfSkNCiAgfQ0KfQ0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/film","sourcesContent":["<template>\r\n  <div class=\"film\">\r\n\r\n    <div class=\"film-header\">\r\n    </div>\r\n\r\n    <div class=\"film-card\">\r\n      <img alt=\"\" style=\"width: 100%;height: 100%\" :src=\"film.cover\">\r\n    </div>\r\n\r\n    <div class=\"film-des\">\r\n      <div class=\"p1\">{{ film.name }}\r\n        <el-rate style=\"float: right;padding-left: 50px\"\r\n                 v-model=\"value\"\r\n                 disabled\r\n                 show-score\r\n                 text-color=\"#ff9900\"\r\n                 score-template=\"{value}\">\r\n        </el-rate>\r\n      </div>\r\n      <div class=\"p2\">电影类型 : {{ film.type }}</div>\r\n      <div class=\"p2\">{{ film.region }} / {{ film.duration }}分钟</div>\r\n      <div class=\"p2\">上映日期 : {{ film.releaseTime }} 上映</div>\r\n      <div style=\"padding-top: 30px\">\r\n        <router-link style=\"margin-right: 20px\" :to=\"'/film/ticket?fid=' + filmId\">\r\n          <el-button type=\"danger\" style=\"width: 130px;letter-spacing: 2px\">\r\n            <i style=\"padding-right: 5px;font-size: 15px\" class=\"el-icon-s-finance\"></i>特惠购票\r\n          </el-button>\r\n        </router-link>\r\n        <el-button @click=\"openComment\" type=\"danger\" style=\"width: 130px;letter-spacing: 2px\">\r\n          <i style=\"padding-right: 5px;font-size: 15px\" class=\"el-icon-star-on\"></i>评分\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"film-content\">\r\n      <router-view />\r\n    </div>\r\n\r\n    <el-dialog\r\n        :show-close=false\r\n        title=\"电影评分\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"30%\">\r\n      <div class=\"block\">\r\n        <el-rate\r\n            v-model=\"form.star\"\r\n            :colors=\"colors\">\r\n        </el-rate>\r\n      </div>\r\n      <el-input\r\n          style=\"margin-top: 40px\"\r\n          type=\"textarea\"\r\n          :rows=\"8\"\r\n          placeholder=\"请输入内容\"\r\n          v-model=\"form.comment\">\r\n      </el-input>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitComment\">确 认 提 交</el-button>\r\n             </span>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {AddFilmEvaluate, FindFilmById, FindFilmEvaluateByFId} from \"@/api/film\";\r\n\r\nexport default {\r\n  name: \"Film\",\r\n  data() {\r\n    return {\r\n      value2: null,\r\n      colors: ['#99A9BF', '#F7BA2A', '#FF9900'],\r\n      filmId: this.$route.query.fid,\r\n      value: 3.5,\r\n      list: [{}, {}, {}],\r\n      dialogVisible: false,\r\n      film: {},\r\n      evaluateList: [],\r\n      form: {\r\n        fid: '',\r\n        uid: '',\r\n        star: 5,\r\n        comment: '',\r\n      },\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    openComment() {\r\n      if (!localStorage.getItem(\"uid\")) {\r\n        this.$confirm('系统还没有检测到您的登陆信息, 是否去登录?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push(\"/login\")\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消为电影评分'\r\n          });\r\n        });\r\n      } else {\r\n        this.dialogVisible = true\r\n      }\r\n    },\r\n\r\n    submitComment() {\r\n      this.form.fid = this.filmId;\r\n      this.form.uid = localStorage.getItem(\"uid\");\r\n      const form = this.form\r\n      AddFilmEvaluate(form).then(res => {\r\n        this.dialogVisible = false;\r\n      })\r\n    },\r\n\r\n  },\r\n\r\n  mounted() {\r\n    FindFilmById(this.filmId).then(res => {\r\n      this.film = res.data;\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.film-header {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 380px;\r\n  background: #5a84fd;\r\n  margin-top: 12px;\r\n}\r\n\r\n.film-content {\r\n  padding: 80px 200px;\r\n  letter-spacing: 2px;\r\n}\r\n\r\n.p1 {\r\n  font-weight: bolder;\r\n  letter-spacing: 3px;\r\n  color: #FFFFFF;\r\n  font-size: 30px;\r\n  padding-top: 20px;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.p2 {\r\n  font-size: 14px;\r\n  padding-top: 20px;\r\n  letter-spacing: 2px;\r\n  color: #FFFFFF;\r\n}\r\n\r\n.film-card {\r\n  width: 240px;\r\n  height: 330px;\r\n  background: #FFFFFF;\r\n  margin-right: 100px;\r\n  margin-left: 190px;\r\n  position: absolute;\r\n  overflow: hidden;\r\n  top: 160px;\r\n  z-index: 999;\r\n}\r\n\r\n.film-des {\r\n  margin-left: 500px;\r\n  position: absolute;\r\n  overflow: hidden;\r\n  top: 150px;\r\n  z-index: 999;\r\n}\r\n\r\n>>> .el-rate__icon {\r\n  font-size: 25px;\r\n}\r\n\r\n>>> .el-rate__text {\r\n  padding-left: 8px;\r\n  font-size: 30px;\r\n}\r\n\r\n</style>\r\n"]}]}